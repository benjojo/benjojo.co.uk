<!DOCTYPE html>
<html lang='en'>

<head>
    <title>Benjojo - Ben Cox</title>
    <link rel="stylesheet" href="stylesheets/main.css?asdfsdf" />
    <meta name="description" content="Software Developer - Benjojo / Ben Cartwright Cox">
    <style>canvas{display:block;width:100%;height:100%;position:absolute;}</style>

</head>

<body>
    <div class="background" id="tile-grid">
	<div id="spinner">
	</div>
    <canvas id="console">
    </div>
    <div class="background-overlay"></div>
    <div class="body">
        <div class="title"></div>
        <div class="title2"></div>
        <ul class="links">
            <li>
                <a href="http://blog.benjojo.co.uk/" onclick="window.location='http://blog.benjojo.co.uk/';">Blog</a>
            </li>
            <li>
                <a href="https://github.com/benjojo" onclick="window.location='https://github.com/benjojo';">Github</a>
            </li>
            <li>
                <a href="https://twitter.com/#!/Benjojo12" onclick="window.location='https://twitter.com/#!/Benjojo12';">Twitter</a>
            </li>
            <li>
                <a href="http://www.linkedin.com/pub/ben-cox/36/542/234" onclick="window.location='http://www.linkedin.com/pub/ben-cox/36/542/234';">LinkedIn</a>
            </li>
            <li>
                <a id="email" href='http://benjojo.co.uk/email.png' onclick="decodeemail();">Email Me</a>
            </li>
            <li>
                <a id="closebar" href='#'>Click to play with the VM</a>
            </li>
        </ul>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="novnc.js"></script>


    <script type="text/javascript">



if("WebSocket" in window && navigator.userAgent.toLowerCase().indexOf('firefox') == -1) {
		for ( i = 0; i < 3 * 4; ++i )
			$('<div>', {'class': 'dot', 'id': 'dot-' + i}).appendTo('#spinner');

$('#closebar').click(function() {
	$('.background-overlay').remove();
	$('.body').remove();
});


  var con = document.getElementById("console");
  var rfb = new RFB({ target: con,encrypt: false });
  rfb.connect("vpool.benjojo.co.uk", 443, null, "gimmevm");
} else if("WebSocket" in window && navigator.userAgent.toLowerCase().indexOf('firefox') != -1) {
	// This is firefox!

		for ( i = 0; i < 3 * 4; ++i )
			$('<div>', {'class': 'dot', 'id': 'dot-' + i}).appendTo('#spinner');

	$('#closebar').text("Start VM"); // Sorry firefox is broken :C
	$('#closebar').click(function() {
 	 var con = document.getElementById("console");
 	 var rfb = new RFB({ target: con,encrypt: true });
 	 rfb.connect("vpool.benjojo.co.uk", 443, null, "gimmevm");
	 $('.background-overlay').remove();
	 $('.body').remove();
	});
} else {
	$('#closebar').remove();
}

    //$(document).ready(function(){
    $("#email").attr("href", "#");
    function decodeemail () {
        $('#email').text("ben"+"@"+"benjojo.co."+"uk");
    }
   
    //});
    </script>
</body>

</html>
